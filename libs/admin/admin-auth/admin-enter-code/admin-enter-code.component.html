<div class="container vh-100 d-flex align-items-center">
  <div class="row w-100">
    <!-- Left Side Image -->
    <div class="col-md-6 d-none d-md-flex justify-content-center align-items-center">
      <img src="assets/getcode.png" class="img-fluid" alt="getcode" />
    </div>

    <!-- Right Side Form -->
    <div class="col-md-6 d-flex justify-content-center align-items-center">
      <div class="p-4 w-100" style="max-width: 400px">
        <img
          src="assets/logo.png"
          class="img-fluid my-4"
          alt="Login Illustration"
          height="35px"
          width="150px"
        />
        <h4 class="fw-bold mb-5 heading">Enter Code</h4>
        <p>Check your mail and enter PIN</p>

        <!-- Error Message -->
        <div *ngIf="errorMessage" class="alert alert-danger mb-3">
          {{ errorMessage }}
        </div>

        <div class="d-flex justify-content-between mb-3">
          <input
            id="input1"
            type="text"
            class="form-control text-center border border-secondary bg-light"
            placeholder="●"
            maxlength="1"
            (input)="moveToNext($event, 'input2')"
            (keydown)="onKeyDown($event, 'input1')"
            [disabled]="isLoading"
          />
          <input
            id="input2"
            type="text"
            class="form-control text-center border border-secondary bg-light"
            placeholder="●"
            maxlength="1"
            (input)="moveToNext($event, 'input3')"
            (keydown)="onKeyDown($event, 'input2')"
            [disabled]="isLoading"
          />
          <input
            id="input3"
            type="text"
            class="form-control text-center border border-secondary bg-light"
            placeholder="●"
            maxlength="1"
            (input)="moveToNext($event, 'input4')"
            (keydown)="onKeyDown($event, 'input3')"
            [disabled]="isLoading"
          />
          <input
            id="input4"
            type="text"
            class="form-control text-center border border-secondary bg-light"
            placeholder="●"
            maxlength="1"
            (input)="moveToNext($event, '')"
            (keydown)="onKeyDown($event, 'input4')"
            [disabled]="isLoading"
          />
        </div>

        <p>
          <a
            class="text-success text-decoration-none"
            (click)="resendOTP()"
            [class.disabled]="isLoading"
            style="cursor: pointer;"
          >
            <span *ngIf="!isLoading">Resend Code</span>
            <span *ngIf="isLoading">
              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              Sending...
            </span>
          </a>
        </p>

        <!-- Continue Button -->
        <button 
          class="btn btn-success rounded-pill w-100"
          (click)="verifyOTP()"
          [disabled]="otp.length !== 4 || isLoading"
        >
          <span *ngIf="!isLoading">Continue</span>
          <span *ngIf="isLoading">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Verifying...
          </span>
        </button>
      </div>
    </div>
  </div>
</div>