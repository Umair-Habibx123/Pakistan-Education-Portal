<div class="container vh-100 d-flex align-items-center">
  <div class="row w-100">
    <!-- Left Side Image -->
    <div class="col-md-6 d-none d-md-flex justify-content-center align-items-center">
      <img src="assets/loginpage.png" class="img-fluid" alt="Login Illustration" />
    </div>

    <!-- Right Side Login Form -->
    <div class="col-md-6 d-flex justify-content-center align-items-center">
      <div class="p-4 w-100" style="max-width: 400px">
        <img
          src="assets/logo.png"
          class="img-fluid my-4"
          alt="Login Illustration"
          height="35px"
          width="150px"
        />
        <h4 class="fw-bold mb-5 heading">Reset Password</h4>

        <!-- Error Message -->
        <div *ngIf="errorMessage" class="alert alert-danger mb-3">
          {{ errorMessage }}
        </div>

        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
          <div class="mb-4">
            <div class="input-group">
              <input
                formControlName="password"
                [type]="showPassword ? 'text' : 'password'"
                class="form-control border border-secondary bg-light"
                placeholder="Password"
              />
              <span
                class="input-group-text bg-light border border-secondary cursor-pointer"
                (click)="togglePasswordVisibility()"
              >
                <i [class]="showPassword ? 'bi bi-eye' : 'bi bi-eye-slash'"></i>
              </span>
            </div>
            <small *ngIf="resetForm.get('password')?.invalid && resetForm.get('password')?.touched" 
                   class="text-danger">
              Password must be at least 8 characters
            </small>
          </div>

          <div class="mb-4">
            <div class="input-group">
              <input
                formControlName="confirmPassword"
                [type]="showPassword ? 'text' : 'password'"
                class="form-control border border-secondary bg-light"
                placeholder="Confirm Password"
              />
              <span
                class="input-group-text bg-light border border-secondary cursor-pointer"
                (click)="togglePasswordVisibility()"
              >
                <i [class]="showPassword ? 'bi bi-eye' : 'bi bi-eye-slash'"></i>
              </span>
            </div>
            <small *ngIf="resetForm.hasError('mismatch') && resetForm.get('confirmPassword')?.touched" 
                   class="text-danger">
              Passwords do not match
            </small>
          </div>

          <!-- Reset Button -->
          <button 
            type="submit"
            class="btn btn-success w-100 rounded-pill text-white"
            [disabled]="isLoading || resetForm.invalid"
          >
            <span *ngIf="!isLoading">Reset Password</span>
            <span *ngIf="isLoading">
              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              Resetting...
            </span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>