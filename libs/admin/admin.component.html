<div class="d-flex vh-100 overflow-hidden">
  <!-- Sidebar -->
  <aside
    class="position-fixed top-0 bottom-0 p-3 border-end transform transition-transform duration-300 d-flex flex-column z-100 sidebar"
    [ngClass]="{
      'translate-x-0':
        (isSidebarOpen && isLargeScreen) || (isSidebarOpen && !isLargeScreen),
      '-translate-x-full':
        (!isSidebarOpen && isLargeScreen) || (!isSidebarOpen && !isLargeScreen)
    }"
  >
    <a [routerLink]="'/'">
      <img
        src="../../../../assets/logo.png"
        class="w-100 h-auto mb-2"
        alt="Logo"
      />
    </a>

    <nav class="mt-3 flex-grow-1 overflow-auto">
      <a
        class="sidebar-link"
        *ngFor="let item of menuItems"
        [ngClass]="{
          'sidebar-link-active': currentSection === item.id,
          'sidebar-link-inactive': currentSection !== item.id
        }"
        (click)="loadContent(item.id)"
      >
        <lucide-angular [name]="item.icon" class="me-2"></lucide-angular>
        {{ item.label }}
      </a>
    </nav>

    <button
      class="sidebar-toggle-button d-block d-lg-none"
      (click)="toggleSidebar()"
    >
      <lucide-angular name="X"></lucide-angular>
    </button>

    <div class="mt-auto">
      <button class="logout-button">
        <lucide-angular name="LogOut" class="me-2"></lucide-angular>
        <span>Logout</span>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main
    class="flex-grow-1 d-flex flex-column vh-100 overflow-hidden"
    [ngStyle]="{
      'margin-left': isSidebarOpen && isLargeScreen ? '265px' : '0'
    }"
  >
    <nav class="main-content-nav">
      <div
        class="d-flex flex-wrap justify-content-between align-items-center p-1 p-lg-2"
      >
        <!-- Sidebar Toggle Button for Small Screens -->
        <button class="p-2 d-lg-none" (click)="toggleSidebar()">
          <lucide-angular name="Menu"></lucide-angular>
        </button>

        <div class="flex-grow-1 min-width-0 me-3">
          <h1 class="main-content-title text-truncate mb-0">
            {{ getTitle(currentSection) }}
          </h1>
          <p class="main-content-subtitle text-truncate mb-0">
            Here you can manage your {{ getTitle(currentSection) }}
          </p>
        </div>

        <div class="d-flex align-items-center">
          <lucide-angular
            name="Bell"
            class="main-content-icon"
          ></lucide-angular>

          <div class="position-relative ms-3 d-flex align-items-center">
            <img
              src="../../../../assets/user.png"
              class="user-image"
              alt="User"
            />
            <lucide-angular
              name="ChevronDown"
              class="ms-2 d-none d-lg-block main-content-icon"
            ></lucide-angular>
          </div>
        </div>
      </div>
    </nav>

    <!-- Dynamic Content Area -->
    <div
      id="main-content"
      class="main-content-area"
    >
      <ng-container [ngSwitch]="currentSection">
        <app-dashboard *ngSwitchCase="'dashboard'"></app-dashboard>
        <app-registrations *ngSwitchCase="'registrations'"></app-registrations>
        <app-sliders *ngSwitchCase="'sliders'"></app-sliders>
        <app-universities *ngSwitchCase="'universities'"></app-universities>
        <app-admin-about-us *ngSwitchCase="'aboutUs'"></app-admin-about-us>
        <app-privacy *ngSwitchCase="'privacy'"></app-privacy>
        <app-settings *ngSwitchCase="'settings'"></app-settings>
        <div *ngSwitchDefault>
          Welcome to the Dashboard. Select an option from the sidebar.
        </div>
      </ng-container>
    </div>
  </main>
</div>

